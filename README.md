```markdown
# ğŸ–Œï¸ Ğ’ĞµĞ±-Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ²ĞµĞ±-Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ, Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ, Ğ³ĞµĞ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ„Ğ¸Ğ³ÑƒÑ€, Ğ·Ğ°Ğ»Ğ¸Ğ²ĞºĞ¸ Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ², Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ (Ğ²ÑĞµ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹ Ğ±Ñ‹Ğ»Ğ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ½Ğ° ÑĞµĞ¼Ğ¸Ğ½Ğ°Ñ€Ğ°Ñ… Ğ¸ Ğ»ĞµĞºÑ†Ğ¸ÑÑ… ĞºÑƒÑ€ÑĞ° "ĞšĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ½Ğ°Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°").  
ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ° Ğ½Ğ° Python Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Flask, ÑĞ°Ğ¼ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€ â€” Ğ½Ğ° HTML + CSS + JavaScript.

---

## ğŸš€ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### âœï¸ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- **ĞšĞ¸ÑÑ‚ÑŒ (Brush)** â€” ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ğ¼ Ñ‚Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ñ‹ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ñ‹ (ĞºÑ€ÑƒĞ³Ğ»Ğ°Ñ / ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ).
- **Ğ›Ğ¸Ğ½Ğ¸Ñ (Line)** â€” Ğ¾Ñ‚Ñ€Ğ¸ÑĞ¾Ğ²ĞºĞ° Ğ¾Ñ‚Ñ€ĞµĞ·ĞºĞ° Ğ¿Ğ¾ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñƒ Ğ‘Ñ€ĞµĞ·ĞµĞ½Ñ…ĞµĞ¼Ğ°.
- **ĞĞºÑ€ÑƒĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ (Circle)** â€” Ğ¾Ñ‚Ñ€Ğ¸ÑĞ¾Ğ²ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¼Ñƒ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñƒ Ğ‘Ñ€ĞµĞ·ĞµĞ½Ñ…ĞµĞ¼Ğ°.
- **Ğ—Ğ°Ğ»Ğ¸Ğ²ĞºĞ° (Fill)** â€” ĞºĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ·Ğ°Ğ»Ğ¸Ğ²ĞºĞ° (Flood Fill).
- **Undo** â€” Ğ¾Ñ‚ĞºĞ°Ñ‚ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹.
- **ĞÑ‡Ğ¸ÑÑ‚ĞºĞ°** â€” Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ñ…Ğ¾Ğ»ÑÑ‚Ğ°.
- **Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ** Ğ² PNG.
- **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ñ…Ğ¾Ğ»ÑÑ‚Ğ°** Ğ¸Ğ»Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ñ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ°.

### ğŸ¨ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
Ğ’ÑĞµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ Python.  
ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹:

| Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|--------|-------------|
| **Gaussian** | Ğ Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ³Ğ°ÑƒÑÑĞ¾Ğ²Ğ° ÑĞ´Ñ€Ğ°. |
| **Average** | Ğ£ÑÑ€ĞµĞ´Ğ½ÑÑÑ‰Ğ¸Ğ¹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ (Ğ±Ğ»ÑÑ€ Ğ±ĞµĞ· Ğ²ĞµÑĞ¾Ğ²). |
| **Black & White** | ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ² Ñ‡Ñ‘Ñ€Ğ½Ğ¾-Ğ±ĞµĞ»Ğ¾Ğµ Ñ ÑÑ€ĞºĞ¾ÑÑ‚Ğ½Ñ‹Ğ¼ Ğ²Ğ·Ğ²ĞµÑˆĞ¸Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼. |
| **Sobel** | Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ÑƒÑ€Ğ¾Ğ² Ğ¿Ğ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ°Ğ¼ Ğ¡Ğ¾Ğ±ĞµĞ»Ñ. |
| **Prewitt** | Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ÑƒÑ€Ğ¾Ğ² Ğ¿Ğ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ°Ğ¼ ĞŸÑ€ĞµĞ²Ğ¸Ñ‚Ñ‚Ğ°. |
| **K-Means** | ĞšĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ¼ K-ÑÑ€ĞµĞ´Ğ½Ğ¸Ñ…. |

---
```
## ğŸ§© Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```

project/
â”œâ”€â”€ server.py               # Flask-python Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼ĞºĞ° (Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ²)
â”œâ”€â”€ editor.html             # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ» (Ğ²ĞµĞ±-Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€)
â”‚   
â””â”€â”€ README.md               # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»

````

---

## âš™ï¸ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

### 1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
```bash
pip install flask flask-cors pillow numpy scipy
````

### 2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞµÑ€Ğ²ĞµÑ€

```bash
python3 server.py
```

ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ ÑĞµÑ€Ğ²ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑÑ Ğ½Ğ° `http://127.0.0.1:5000`

### 3. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ `index.html` Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ¸Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€.

---

## ğŸ’¡ ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸Ğ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ½Ğ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ¾.
2. Ğ’ÑĞµ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑÑ‚ÑÑ **Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° (Canvas API)**.
3. ĞŸÑ€Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°:

   * Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ² **Base64**;
   * ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ POST-Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Flask-ÑĞµÑ€Ğ²ĞµÑ€;
   * Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ **NumPy**;
   * Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€.

---

## ğŸ§  ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

### âœï¸ 1. ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ»Ğ¸Ğ½Ğ¸Ğ¸ â€” Ğ‘Ñ€ĞµĞ·ĞµĞ½Ñ…ĞµĞ¼

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ñ†ĞµĞ»Ğ¾Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ‘Ñ€ĞµĞ·ĞµĞ½Ñ…ĞµĞ¼Ğ° Ğ±ĞµĞ· Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ.
Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ·Ğ° O(max(Î”x, Î”y)).

(Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ‚ÑƒÑ‚: https://github.com/NikAvto/line_bresenham)

Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸:

```
err = dx + dy
```

ĞŸÑ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ¸Ñ‚ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸:

```
if 2*err >= dy: x += sx; err += dy
if 2*err <= dx: y += sy; err += dx
```

Ğ›Ğ¸Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ÑÑ Ñ€Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¸ Ğ±ĞµĞ· Ğ°Ğ½Ñ‚Ğ¸Ğ°Ğ»Ğ¸Ğ°ÑĞ¸Ğ½Ğ³Ğ°.

---

### âšª 2. ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¾ĞºÑ€ÑƒĞ¶Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ‘Ñ€ĞµĞ·ĞµĞ½Ñ…ĞµĞ¼

ĞĞºÑ€ÑƒĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ¸ÑÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾ ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ¸, Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑÑ Ñ‚Ğ¾Ñ‡ĞºĞ¸ `(x, y)` Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ñ†ĞµĞ½Ñ‚Ñ€Ğ° `(cx, cy)` (Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ‚ÑƒÑ‚: https://github.com/NikAvto/circle_bresenham):

```
xÂ² + yÂ² = rÂ²
```

Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‘Ñ‚ÑÑ Ğ´Ğ²Ğ¾Ğ¹Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ Ğ² Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ… lineWidth.

---

### ğŸŒŠ 3. ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ·Ğ°Ğ»Ğ¸Ğ²ĞºĞ¸ â€” Flood Fill

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ¸Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾ ÑÑ‚ĞµĞºĞ¾Ğ¼ (Ğ±ĞµĞ· Ñ€ĞµĞºÑƒÑ€ÑĞ¸Ğ¸):

```js
stack.push({x, y})
while stack not empty:
  pixel = stack.pop()
  if Ñ†Ğ²ĞµÑ‚ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¼:
     Ğ·Ğ°ĞºÑ€Ğ°ÑĞ¸Ñ‚ÑŒ Ğ¿Ğ¸ĞºÑĞµĞ»ÑŒ
     Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾ÑĞµĞ´ĞµĞ¹ (Ğ²Ğ²ĞµÑ€Ñ…, Ğ²Ğ½Ğ¸Ğ·, Ğ²Ğ»ĞµĞ²Ğ¾, Ğ²Ğ¿Ñ€Ğ°Ğ²Ğ¾)
```

Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ RGBA.

---

## ğŸ§® ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² (Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ° Python)

### ğŸŒ€ 1. Ğ“Ğ°ÑƒÑÑĞ¾Ğ² Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ²ÑƒĞ¼ĞµÑ€Ğ½Ğ¾Ğµ ÑĞ´Ñ€Ğ¾:

```
G(x,y) = exp(-(xÂ² + yÂ²) / (2ÏƒÂ²))
```

Ğ’ÑĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑÑ‚ÑÑ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑÑƒĞ¼Ğ¼Ğ° ÑĞ´Ñ€Ğ° = 1.
Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ Ğ´Ğ²ÑƒĞ¼ĞµÑ€Ğ½Ğ°Ñ ÑĞ²Ñ‘Ñ€Ñ‚ĞºĞ° (convolution).

---

### ğŸ”² 2. Ğ£ÑÑ€ĞµĞ´Ğ½ÑÑÑ‰Ğ¸Ğ¹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€

ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğµ ÑƒÑÑ€ĞµĞ´Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¾ĞºÑ€ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ `NÃ—N`:

```
kernel = np.ones((N, N)) / (N*N)
```

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ğ¸ĞºÑĞµĞ»ÑŒ Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ Ğ½Ğ° ÑÑ€ĞµĞ´Ğ½ĞµĞµ ÑĞ¾ÑĞµĞ´Ğ½Ğ¸Ñ….

---

### âš« 3. Ğ§Ñ‘Ñ€Ğ½Ğ¾-Ğ±ĞµĞ»Ñ‹Ğ¹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ÑÑ€ĞºĞ¾ÑÑ‚Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° NTSC:

```
Y = 0.299R + 0.587G + 0.114B
```

Ğ’ÑĞµ ĞºĞ°Ğ½Ğ°Ğ»Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ `Y`.

---

### ğŸ§­ 4. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¡Ğ¾Ğ±ĞµĞ»Ñ

Ğ”Ğ²Ğ° ÑĞ´Ñ€Ğ° Ğ´Ğ»Ñ X Ğ¸ Y Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹:

```
Gx = [[-1 0 1], [-2 0 2], [-1 0 1]]
Gy = [[ 1 2 1], [ 0 0 0], [-1 -2 -1]]
```

ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ°:

```
M = sqrt(GxÂ² + GyÂ²)
```

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ½Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ [0, 1].

---

### ğŸ§­ 5. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ ĞŸÑ€ĞµĞ²Ğ¸Ñ‚Ñ‚Ğ°

ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ ÑĞ´Ñ€Ğ°, Ğ½Ğ¾ Ñ Ñ€Ğ°Ğ²Ğ½Ğ¾Ğ¼ĞµÑ€Ğ½Ñ‹Ğ¼Ğ¸ Ğ²ĞµÑĞ°Ğ¼Ğ¸:

```
Gx = [[-1 0 1], [-1 0 1], [-1 0 1]]
Gy = [[ 1 1 1], [ 0 0 0], [-1 -1 -1]]
```

Ğ ĞµĞ°Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ Ğ½Ğ° Ñ€ĞµĞ·ĞºĞ¸Ğµ Ğ¿ĞµÑ€ĞµĞ¿Ğ°Ğ´Ñ‹ ÑÑ€ĞºĞ¾ÑÑ‚Ğ¸, Ğ½Ğ¾ Ğ¼ĞµĞ½ĞµĞµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ĞµĞ½ Ğº ÑˆÑƒĞ¼Ñƒ.

---

### ğŸ¨ 6. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ K-ÑÑ€ĞµĞ´Ğ½Ğ¸Ñ… (ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²)

1. Ğ’ÑĞµ Ğ¿Ğ¸ĞºÑĞµĞ»Ğ¸ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒÑÑ‚ÑÑ Ğ² Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ñ‹ RGB.
2. Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ÑÑ‚ÑÑ K ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ñ… Ñ†ĞµĞ½Ñ‚Ñ€Ğ¾Ğ¸Ğ´Ğ¾Ğ².
3. Ğ”Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ğ¸ĞºÑĞµĞ»Ñ Ğ¸Ñ‰ĞµÑ‚ÑÑ Ğ±Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞ¸Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€Ğ¾Ğ¸Ğ´ (Ğ¿Ğ¾ Ğ•Ğ²ĞºĞ»Ğ¸Ğ´Ğ¾Ğ²Ñƒ Ñ€Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ).
4. Ğ¦ĞµĞ½Ñ‚Ñ€Ğ¾Ğ¸Ğ´Ñ‹ Ğ¿ĞµÑ€ĞµÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ ĞºĞ°Ğº ÑÑ€ĞµĞ´Ğ½ĞµĞµ ÑĞ²Ğ¾Ğ¸Ñ… ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ².
5. ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµÑ‚ÑÑ Ğ´Ğ¾ ÑÑ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ (Ğ¸Ğ»Ğ¸ 10 Ğ¸Ñ‚ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹).

ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°:

```
C_i = (1 / |S_i|) * Î£ x_j,  Ğ³Ğ´Ğµ x_j âˆˆ S_i
```

Ğ“Ğ´Ğµ `C_i` â€” Ñ†ĞµĞ½Ñ‚Ñ€ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°, `S_i` â€” Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ² Ğ½Ñ‘Ğ¼.

---

Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ².

---

## ğŸ§° Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

### `apply_filter(image, kernel)`

ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ 2D-ÑĞ²Ñ‘Ñ€Ñ‚ĞºÑƒ ĞºĞ¾ Ğ²ÑĞµĞ¼ Ñ‚Ñ€Ñ‘Ğ¼ ĞºĞ°Ğ½Ğ°Ğ»Ğ°Ğ¼ RGB Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ Ñ Ğ½ÑƒĞ»ĞµĞ²Ñ‹Ğ¼ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸ĞµĞ¼ ĞºÑ€Ğ°Ñ‘Ğ².

### `hexToRgb(hex)`

ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ HEX-ĞºĞ¾Ğ´ Ñ†Ğ²ĞµÑ‚Ğ° Ğ² Ğ¾Ğ±ÑŠĞµĞºÑ‚ `{r, g, b}`.

### `saveState() / undo()`

Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹ Ñ…Ğ¾Ğ»ÑÑ‚Ğ° Ğ² Ğ¼Ğ°ÑÑĞ¸Ğ²Ğµ `undoStack` Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ĞºĞ°Ñ‚Ğ° Ğ½Ğ° Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ½Ğ°Ğ·Ğ°Ğ´.

---

## ğŸ–¼ï¸ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

| Ğ”Ğ¾                                         | ĞŸĞ¾ÑĞ»Ğµ (Ğ¡Ğ¾Ğ±ĞµĞ»ÑŒ)                            |
| ------------------------------------------ | ----------------------------------------- |
| ![before](before.png)                      | ![after](after.png) |
